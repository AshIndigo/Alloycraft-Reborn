package com.ashindigo.alloycraft.lib;

import com.ashindigo.alloycraft.AlloycraftItems;

import net.minecraft.init.Items;
import net.minecraft.inventory.InventoryCrafting;
import net.minecraft.item.ItemStack;
import net.minecraft.item.crafting.IRecipe;
import net.minecraft.nbt.NBTTagCompound;
import net.minecraft.world.World;

public class RecipeHandler implements IRecipe {

	private final ItemStack spellStack = new ItemStack(Items.iron_ingot);
	private final ItemStack wandStack;
	public static NBTTagCompound alloynbt = new ItemStack(AlloycraftItems.alloy, 1).getTagCompound();
	private ItemStack[] input = {new ItemStack(Items.iron_ingot),new ItemStack(Items.gold_ingot), new ItemStack(AlloycraftItems.alloy)};
	private ItemStack output = new ItemStack(AlloycraftItems.alloy, 1).setTagCompound(alloynbt);
	private boolean spell;
	private boolean wand;

	public RecipeHandler(Object object, ItemStack wand) {
		this.wandStack = wand;
		this.output = object;
		//input[0] = spellStack;
		//input[1] = wandStack;
	}

	@Override
	public ItemStack getCraftingResult(InventoryCrafting inv) {
		ItemStack stack = output.copy();

		output = stack;
		return stack;
	}

	@Override
	public int getRecipeSize() {
		return input.length;
	}

	@Override
	public ItemStack getRecipeOutput() {
		return output;
	}

	public Object[] getInput() {
		return this.input;
	}

	@Override
	public boolean matches(InventoryCrafting inv, World w) {
		for (int slot = 0; slot < inv.getSizeInventory(); slot++) {
			if (inv.getStackInSlot(slot) == spellStack) {
				spell = true;
			}
			if (inv.getStackInSlot(slot) == wandStack) {
				wand = true;
			}
			if (wand && spell) {
				return true;
			}

		}
		return false;
	}

}