package com.ashindigo.alloycraft;

import java.awt.List;

import com.ashindigo.utils.UtilsItem;

import net.minecraft.creativetab.CreativeTabs;
import net.minecraft.entity.Entity;
import net.minecraft.entity.EntityLiving;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.item.ItemStack;
import net.minecraft.nbt.NBTTagCompound;
import net.minecraft.potion.Potion;
import net.minecraft.potion.PotionEffect;
import net.minecraft.world.World;

public class AlloyItem extends UtilsItem {
	
	private ItemStack itemStack;
	public AlloyItem(String modid, String name){
		setUnlocalizedName(modid + "_" + name);
		setCreativeTab(CreativeTabs.tabMisc);
		setTextureName(modid + ":" + name);
		UtilsItem.listitem.add(name);
		setMaxSize = 1;
		UtilsItem.MODID = modid;
		UtilsItem.itemlists.add(this);
}
	
	@Override
	public void onUpdate(ItemStack itemstack, World world, Entity entity, int metadata, boolean bool)
	{
	        if (itemstack.getTagCompound() == null)
	        {
	            itemstack.setTagCompound(new NBTTagCompound());
	            itemstack.getTagCompound().setString("Owner", "WOW");
	            itemstack.getTagCompound().setInteger("Coins", 0);
	            itemStack = itemstack;
	        }
	        
	        if (itemstack.getTagCompound() .getInteger("Coins") >= 0)
	        {
	                ((EntityLiving) entity).addPotionEffect((new PotionEffect(Potion.nightVision.getId(), 20 * 15, 0)));
	        }
	}
	public void addInformation(ItemStack par1ItemStack, EntityPlayer par2EntityPlayer, List par3List, boolean par4)
    {
    	par3List.add(itemStack.getTagCompound().getString("Owner"));

    }
	
	
}